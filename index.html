<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Helping Hand — A / I / L / V / Y</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Header -->
  <header>
    <h1>Helping Hand — MVP</h1>
    <div class="muted">
      Camera + on-device detector. Optional: connect Arduino via Web Serial (115200 baud).
      Frontend sends one ASCII letter: 'A' | 'I' | 'L' | 'V' | 'Y'. Servo logic lives in Arduino.
    </div>
  </header>

  <!-- Error banner (permissions / camera / serial) -->
  <div id="errbar" role="alert"></div>

  <main>
    <!-- Left: camera stream with landmarks overlay -->
    <section id="stage">
      <video id="video" playsinline muted autoplay></video>
      <canvas id="canvas"></canvas>
    </section>

    <!-- Right: simple controls and status -->
    <aside class="panel">
      <div class="row">
        <label for="target">Letter:</label>
        <select id="target">
          <option value="A">A</option>
          <option value="I">I</option>
          <option value="L">L</option>
          <option value="V">V</option>
          <option value="Y">Y</option>
        </select>
      </div>

      <div class="row"><div>Prediction:</div><div id="prediction">–</div></div>
      <div class="row"><div>Status:</div><div id="status" class="bad">Waiting…</div></div>
      <div class="row"><div>Confidence:</div><div id="conf">0 / 4</div></div>
      <hr/>

      <!-- Web Serial (optional) -->
      <div class="row">
        <button id="connectBtn" disabled>Connect Robot (Web Serial)</button>
        <span id="serialStatus" class="muted">Unsupported in this browser</span>
      </div>
      <div class="row mono">
        <div>Last sent:</div><div id="lastSent">—</div>
      </div>
    </aside>
  </main>

  <!-- Toggleable, tiny on-screen debug (for quick glance) -->
  <div id="debug" style="position:fixed;left:12px;bottom:12px;background:rgba(0,0,0,.65);color:#fff;padding:8px 10px;border-radius:8px;font:12px ui-monospace;max-width:60ch;white-space:pre;display:none"></div>
  <button id="dbgToggle" style="position:fixed;left:12px;bottom:64px;padding:6px 10px;border-radius:8px;border:1px solid #d0d7de;background:#fff">Toggle Debug</button>

  <footer class="muted" style="padding:10px 18px">
    Use HTTPS or <code>http://localhost</code> for camera/serial permissions. Chrome/Edge recommended.
  </footer>

  <!-- MediaPipe libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>

  <!-- App logic -->
  <script src="app.js"></script>
</body>
</html>
